# 🚀 Portfolio Website Setup Guide

## Prerequisites
- Node.js installed on your system
- GitHub account
- Vercel account
- Supabase account

## Step 1: Environment Variables Setup

Create a `.env` file in your project root with the following content:

```env
# Supabase Configuration
VITE_SUPABASE_URL=your-supabase-url
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
```

**Important Notes:**
- Replace `your-supabase-url` and `your-supabase-anon-key` with your actual Supabase credentials
- All environment variables must be prefixed with `VITE_` for Vite to access them
- Never commit your `.env` file to version control (it's already in `.gitignore`)

## Step 2: Supabase Database Setup

### 2.1 Create Supabase Project
1. Go to [Supabase](https://supabase.com) and create a new project
2. Note down your Project URL and anon public key from Settings > API

### 2.2 Setup Database Tables & Policies
Run the following SQL script in your Supabase SQL Editor:

```sql
-- ---- TABLE CREATION ----

-- Creates the 'projects' table for portfolio items
CREATE TABLE public.projects (
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at timestamp with time zone DEFAULT now() NOT NULL,
  "Title" text,
  "Description" text,
  "Img" text,
  "Link" text,
  "Github" text,
  "Features" jsonb,
  "TechStack" jsonb
);

-- Creates the 'certificates' table
CREATE TABLE public.certificates (
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at timestamp with time zone DEFAULT now() NOT NULL,
  "Img" text
);

-- Creates the 'portfolio_comments' table for the comment system
CREATE TABLE public.portfolio_comments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  content TEXT NOT NULL,
  user_name VARCHAR(255) NOT NULL,
  profile_image TEXT,
  is_pinned BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ---- ROW LEVEL SECURITY (RLS) SETUP ----

-- Enable RLS for all tables
ALTER TABLE public.projects ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.certificates ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.portfolio_comments ENABLE ROW LEVEL SECURITY;

-- ---- POLICY CREATION ----

-- Policy for 'projects': Allow public read access
CREATE POLICY "Public Read Access Policy for Projects"
ON public.projects FOR SELECT TO public USING (true);

-- Policy for 'certificates': Allow public read access
CREATE POLICY "Public Read Access Policy for Certificates"
ON public.certificates FOR SELECT TO public USING (true);

-- Policies for 'portfolio_comments': Allow read for everyone, and insert for everyone (but not pinned)
CREATE POLICY "Allow public read on portfolio_comments"
ON public.portfolio_comments FOR SELECT TO public USING (true);

CREATE POLICY "Allow public insert on portfolio_comments"
ON public.portfolio_comments FOR INSERT TO public WITH CHECK (is_pinned = false);

-- ---- STORAGE SETUP FOR COMMENT PROFILE IMAGES ----

-- Create a public bucket for profile images
INSERT INTO storage.buckets (id, name, public)
VALUES ('profile-images', 'profile-images', true)
ON CONFLICT (id) DO NOTHING; -- Avoid errors if the bucket already exists

-- Policies for 'profile-images' bucket
CREATE POLICY "Allow public to upload profile images"
ON storage.objects FOR INSERT TO public WITH CHECK (bucket_id = 'profile-images');

CREATE POLICY "Allow public to read profile images"
ON storage.objects FOR SELECT TO public USING (bucket_id = 'profile-images');

-- ---- EXAMPLE DATA INSERTION ----

-- Insert one example project
INSERT INTO public.projects ("Title", "Description", "Img", "Link", "Github", "Features", "TechStack") 
VALUES (
    'Example Project Title', 
    'A simple description for this example project, explaining its main purpose and goals.', 
    'REPLACE_WITH_YOUR_PROJECT_IMAGE_URL.png', 
    'REPLACE_WITH_YOUR_LIVE_DEMO_URL.com', 
    'REPLACE_WITH_YOUR_GITHUB_REPO_URL.com', 
    '["Main Feature A", "Core Function B", "Key Ability C"]', 
    '["React", "Supabase", "Tailwind CSS"]'
);

-- Insert one example certificate
INSERT INTO public.certificates ("Img") 
VALUES ('REPLACE_WITH_YOUR_CERTIFICATE_IMAGE_URL.png');

-- Insert one example comment
INSERT INTO public.portfolio_comments (content, user_name) 
VALUES ('Created By Eki Zulfar Rachman', 'ekizr');
```

### 2.3 Enable Realtime
1. Go to Table Editor > portfolio_comments
2. Enable Realtime for the portfolio_comments table

## Step 3: Local Development

### 3.1 Install Dependencies
```bash
npm install
```

If you encounter peer dependency issues, use:
```bash
npm install --legacy-peer-deps
```

### 3.2 Run Development Server
```bash
npm run dev
```

### 3.3 Access Your Application
Open http://localhost:5173 in your browser

## Step 4: GitHub Setup

### 4.1 Initialize Git Repository
```bash
git init
git add .
git commit -m "Initial commit: Portfolio website setup"
```

### 4.2 Create GitHub Repository
1. Go to GitHub and create a new repository
2. Connect your local repository to GitHub:
```bash
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
git branch -M main
git push -u origin main
```

## Step 5: Vercel Deployment

### 5.1 Deploy to Vercel
1. Go to [Vercel](https://vercel.com)
2. Sign in with your GitHub account
3. Click "New Project"
4. Import your GitHub repository
5. Vercel will automatically detect it's a Vite project

### 5.2 Configure Environment Variables
In your Vercel project dashboard:
1. Go to Settings > Environment Variables
2. Add the following variables:
   - `VITE_SUPABASE_URL` = your-supabase-url
   - `VITE_SUPABASE_ANON_KEY` = your-supabase-anon-key

### 5.3 Deploy
1. Click "Deploy" 
2. Vercel will build and deploy your project
3. You'll get a live URL for your portfolio

## Step 6: Testing Your Deployment

1. Visit your deployed URL
2. Test all functionality:
   - Portfolio projects display
   - Certificates section
   - Comment system
   - Contact form (if implemented)

## 🎉 Congratulations!

Your portfolio website is now live with:
- ✅ Frontend hosted on Vercel
- ✅ Backend database on Supabase
- ✅ Real-time comment system
- ✅ Responsive design
- ✅ Modern tech stack

## 🔧 Troubleshooting

### Common Issues:
1. **Environment variables not working**: Ensure they're prefixed with `VITE_`
2. **Supabase connection issues**: Check your URL and anon key
3. **Build failures**: Check for TypeScript errors and missing dependencies
4. **RLS policies**: Ensure your Supabase policies allow public read access

### Useful Commands:
```bash
# Build for production
npm run build

# Preview production build
npm run preview

# Check for linting issues
npm run lint
```

## 📝 Next Steps

1. Customize your portfolio content
2. Add your actual project data to Supabase
3. Upload your certificate images
4. Configure custom domain (optional)
5. Set up analytics (optional)

Your portfolio is ready to showcase your work to the world! 🌟
